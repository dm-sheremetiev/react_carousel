{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","offset","frameSize","props","infinite","handleNextClick","frameSpace","itemWidth","maxOffset","newOffset","step","setState","prev","handlePrevClick","getNameFromPath","path","split","prevProps","this","images","animationDuration","className","style","width","transform","transition","map","imagePath","src","alt","type","onClick","React","Component","App","changeProp","e","target","name","value","length","onChange","max","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2238d649.chunk.js","sourcesContent":["import React from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\ntype State = {\n  offset: number;\n  frameSize: number;\n  infinite: boolean;\n};\n\nclass Carousel extends React.Component<Props, State> {\n  state = {\n    offset: 0,\n    frameSize: this.props.frameSize,\n    infinite: this.props.infinite,\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.frameSize !== prevProps.frameSize) {\n      this.setState({ frameSize: this.props.frameSize });\n    }\n\n    if (this.props.infinite !== prevProps.infinite) {\n      this.setState({ infinite: this.props.infinite });\n    }\n  }\n\n  handleNextClick = () => {\n    // I'm using here a lot of const cause it more easy than change them like class-prop\n    const frameSpace = this.state.frameSize * this.props.itemWidth;\n    const maxOffset = this.props.itemWidth * 10 - frameSpace;\n    const newOffset = this.props.itemWidth * this.props.step;\n\n    if (this.state.offset + newOffset > maxOffset) {\n      this.setState({ offset: maxOffset });\n    } else {\n      this.setState(prev => ({ offset: newOffset + prev.offset }));\n    }\n\n    if (this.state.offset === maxOffset && this.state.infinite) {\n      this.setState({ offset: 0 });\n    }\n  };\n\n  handlePrevClick = () => {\n    const frameSpace = this.state.frameSize * this.props.itemWidth;\n    const maxOffset = this.props.itemWidth * 10 - frameSpace;\n    const newOffset = this.props.itemWidth * this.props.step;\n\n    if (this.state.offset - newOffset <= 0) {\n      this.setState({ offset: 0 });\n    } else {\n      this.setState(prev => ({ offset: prev.offset - newOffset }));\n    }\n\n    if (this.state.offset === 0 && this.state.infinite) {\n      this.setState({ offset: maxOffset });\n    }\n  };\n\n  getNameFromPath = (path:string) => path.split('g/')[1].split('.')[0];\n\n  render() {\n    const {\n      images,\n      frameSize,\n      itemWidth,\n      animationDuration,\n    } = this.props;\n\n    const { offset } = this.state;\n\n    return (\n      <>\n        <div className=\"wrapper\">\n          <div\n            className=\"Carousel\"\n            style={{ width: `${frameSize * itemWidth}px` }}\n          >\n            <ul\n              className=\"Carousel__list\"\n              style={\n                {\n                  transform: `translateX(-${offset}px)`,\n                  transition: `transform ${animationDuration / 1000}s`,\n                }\n              }\n            >\n              {images.map(imagePath => {\n                return (\n                  <li className=\"Carousel__item\" key={imagePath}>\n                    <img\n                      className=\"Carousel__image\"\n                      style={{ width: `${itemWidth}px` }}\n                      src={`${imagePath}`}\n                      alt={`${this.getNameFromPath(imagePath)}`}\n                    />\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n\n        </div>\n        <div className=\"container\">\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.handlePrevClick}\n          >\n            Prev\n          </button>\n\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={this.handleNextClick}\n            data-cy=\"next\"\n          >\n            Next\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n  };\n\n  changeProp = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState((state) => ({\n      ...state,\n      [e.target.name]: +e.target.value,\n    }));\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        {/* eslint-disable-next-line */}\n        <h1\n          className=\"App__title\"\n          data-cy=\"title\"\n        >\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <div className=\"inputs__wrapper\">\n          <label>\n            Item width:\n            <input\n              className=\"input\"\n              name=\"itemWidth\"\n              type=\"number\"\n              value={itemWidth}\n              onChange={this.changeProp}\n            />\n          </label>\n          <label>\n            Frame size:\n            <input\n              className=\"input\"\n              name=\"frameSize\"\n              type=\"number\"\n              max=\"10\"\n              value={frameSize}\n              onChange={this.changeProp}\n            />\n          </label>\n          <label>\n            Step:\n            <input\n              className=\"input\"\n              name=\"step\"\n              type=\"number\"\n              max=\"9\"\n              value={step}\n              onChange={this.changeProp}\n            />\n          </label>\n          <label>\n            Animation duration:\n            <input\n              className=\"input\"\n              name=\"animationDuration\"\n              type=\"number\"\n              value={animationDuration}\n              onChange={this.changeProp}\n            />\n          </label>\n          <label>\n            Infinite:\n            <input\n              className=\"checkbox\"\n              name=\"animationDuration\"\n              type=\"checkbox\"\n              onChange={() => {\n                this.setState(prev => ({ infinite: !prev.infinite }));\n              }}\n            />\n          </label>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}